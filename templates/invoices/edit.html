{% extends 'base.html' %}

{% block title %}Éditer Facture - Facturation{% endblock %}

{% block content %}
<div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900">✏️ Éditer Facture {{ invoice.invoice_number }}</h1>
</div>

<div class="bg-white rounded-lg shadow-lg p-8 max-w-2xl">
    <form method="post" class="space-y-6">
        {% csrf_token %}

        <div class="bg-blue-50 p-4 rounded-lg">
            <p class="text-sm text-gray-600"><strong>Client:</strong> {{ invoice.client.name }}</p>
            <p class="text-sm text-gray-600"><strong>Date de facture:</strong> {{ invoice.invoice_date|date:"d/m/Y" }}</p>
        </div>

        <div>
            <label for="due_date" class="block text-sm font-semibold text-gray-700 mb-2">Date d'Échéance</label>
            <input type="date" name="due_date" id="due_date" value="{{ invoice.due_date|date:'Y-m-d' }}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
        </div>

        <div>
            <label for="description" class="block text-sm font-semibold text-gray-700 mb-2">Description</label>
            <textarea name="description" id="description" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">{{ invoice.description }}</textarea>
        </div>

        <div>
            <label for="status" class="block text-sm font-semibold text-gray-700 mb-2">Statut</label>
            <select name="status" id="status" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                {% for value, label in invoice.STATUS_CHOICES %}
                    <option value="{{ value }}" {% if invoice.status == value %}selected{% endif %}>{{ label }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="flex gap-4 pt-6">
            <button type="submit" class="btn-primary py-3 px-6 text-lg">
                <i class="fas fa-save"></i> Mettre à Jour
            </button>
            <a href="{% url 'core:invoice_detail' invoice.pk %}" class="btn-outline py-3 px-6 text-lg">
                <i class="fas fa-arrow-left"></i> Retour
            </a>
        </div>
    </form>
</div>
{% endblock %}
